$(function(){toggleCalendarOnClick(),toggleCalendarDropdown(),updateDateInput(),calendarSelection()});var toggleCalendarOnClick=function(){$(".calendar-icon").click(function(){return $(this).toggleClass("s-is-active"),$(".date-picker").toggleClass("s-is-visible"),$('[class*="-select"]').hasClass("s-is-visible")&&hideCalendarDropdown(),!1})},toggleCalendarDropdown=function(){$('[class$="__dropdown"]').click(function(){if($(this).parents().next('[class*="-select"]').hasClass("s-is-visible"))hideCalendarDropdown();else{var e=$(this).parents().next('[class*="-select"]'),s=$(this).parents().siblings('[class*="-select"]'),i=e.find("ul li.s-is-active").position();s.removeClass("s-is-visible"),s.find("ul").scrollTo(0),e.addClass("s-is-visible"),i.top>=72?e.find("ul").scrollTo(i.top-72):e.find("ul").scrollTo(i.top)}return!1})},hideCalendarDropdown=function(){$('[class*="-select"]').removeClass("s-is-visible"),$('[class*="-select"] ul').scrollTo(0)},updateDateInput=function(){$(".date-select").click(function(){var e=$(this),s=$(".date");if($(this).parents("div").siblings().find(".date-select").removeClass("s-is-active"),$(this).toggleClass("s-is-active"),console.log(e.parents("div").attr("id")),e.hasClass("s-is-active"))switch(e.parents("div").attr("id")){case"august":s.val("8/30/13");break;case"september":s.val("9/30/13");break;case"october":s.val("10/30/13");break;case"november":s.val("11/30/13");break;case"december":s.val("12/30/13")}else s.val("");return setTimeout(function(){$(".calendar-icon").click()},150),!1})},calendarSelection=function(){var e=$(".month-select ul li").map(function(){return $(this)}),s=$(".year-select ul li").map(function(){return $(this)}),i=$(".month-select ul li.s-is-active").index(),t=$(".year-select ul li.s-is-active").index();$(window).keydown(function(l){var a=i,c=t;switch(l.keyCode){case 27:hideCalendarDropdown();break;case 37:a--,0>a&&(a=e.length-1),$(".month .text").text(e[a].text()),$(".month-select ul li").removeClass("s-is-active");var n=e[a].text().toLowerCase();$(".date-picker__body").removeClass("s-is-visible"),$("."+n).toggleClass("s-is-visible"),e[a].addClass("s-is-active"),i=$(".month-select ul li.s-is-active").index();break;case 39:a++,a>e.length-1&&(a=0),$(".month .text").text(e[a].text());var n=e[a].text().toLowerCase();$(".date-picker__body").removeClass("s-is-visible"),$("."+n).toggleClass("s-is-visible"),$(".month-select ul li").removeClass("s-is-active"),e[a].addClass("s-is-active"),i=$(".month-select ul li.s-is-active").index();break;case 38:c--,0>c&&(c=s.length-1),$(".year .text").text(s[c].text()),$(".year-select ul li").removeClass("s-is-active"),s[c].addClass("s-is-active"),t=$(".year-select ul li.s-is-active").index();break;case 40:c++,c>s.length-1&&(c=0),$(".year .text").text(s[c].text()),$(".year-select ul li").removeClass("s-is-active"),s[c].addClass("s-is-active"),t=$(".year-select ul li.s-is-active").index()}}),$('[class*="-select"] ul li').click(function(){var e=$(this).parents("div").prev("p").find("span.text"),s=$(this).text(),l=$(this).parents("div");$(this).siblings().removeClass("s-is-active"),$(this).addClass("s-is-active"),setTimeout(function(){e.text(s);var i=s.toLowerCase();hideCalendarDropdown(),l.is(".month-select")&&($(".date-picker__body").removeClass("s-is-visible"),$("."+i).toggleClass("s-is-visible"))},150),i=$(".month-select ul li.s-is-active").index(),t=$(".year-select ul li.s-is-active").index(),console.log("click month: "+i),console.log("click year: "+t)})};