$(function(){$(".table li").outerWidth()<1218&&(console.log("scrollbars present"),$(".table li").css({"margin-right":"-15px"})),updateContractedImps(),updateContractedClicks(),updateEstLoss(),updateDeliveredImps(),updateDeliveredClicks(),$("#search").liveUpdate(".table"),$("#search").on("keyup",function(){var e=$(this).val();$(".table li").removeHighlight(),$(".table li").highlight(e),updateContractedImps(),updateContractedClicks(),updateEstLoss(),updateDeliveredImps(),updateDeliveredClicks(),$(".table li").removeClass("no-border"),$(".table li:not(.hidden):first").addClass("no-border")}),$("#search").on("blur",function(){""==$(this).val()&&$(".totals-bar").removeClass("stick")}),$("li.multi").click(function(){var e=$(this),t="ul.wayfinder li.active";e.find(t).is(":last-child")?(e.find(t).removeClass(),e.find("ul.wayfinder li:first").addClass("active"),e.find("p.active").removeClass("active"),e.find("p:first-of-type").addClass("active")):(e.find(t).removeClass().next("li").addClass("active"),e.find("p.active").removeClass("active").next("p").addClass("active"))}),$(".totals-bar").on("mouseleave",function(){""==$("#search").val()?($(this).removeClass("stick"),$(".table li:last-child").removeClass("add-search-scroll-room")):($(this).addClass("stick"),$(".table li:last-child").addClass("add-search-scroll-room"))}),$(".pushpin a").on("click",function(){return $(this).toggleClass("active"),$(".totals-bar").toggleClass("pinned"),$(".table li:last-child").toggleClass("add-scroll-room"),!1})}),addCommas=function(e){return e.toString().replace(/^([-+]?)(0?)(\d+)(.?)(\d+)$/g,function(e,t,a,i,l,s){var n=function(e){return e.split("").reverse().join("")},d=function(e){var t=n(e),a=t.match(/.{1,3}/g).join(",");return n(a)};return t+(l?d(i)+l+s:d(i+s))})},updateContractedClicks=function(){var e=0,t=$(".table li:not(.hidden) .contracted.clicks").length;0===t?(e=0,$(".contract .clicks .num").text(e)):($(".table li:not(.hidden) .contracted.clicks").each(function(){var t=$(this).text();t=t.replace(/,/g,""),e+=parseInt(t)}),$(".contract .clicks .num").text(addCommas(e)))},updateContractedImps=function(){var e=0,t=$(".table li:not(.hidden) .contracted.imps").length;0===t?(e=0,$(".contract .imps .num").text(e)):($(".table li:not(.hidden) .contracted.imps").each(function(){var t=$(this).text();t=t.replace(/,/g,""),e+=parseInt(t)}),$(".contract .imps .num").text(addCommas(e)))},updateEstLoss=function(){var e=0,t=$(".table li:not(.hidden) .loss").length;console.log(t),0===t?(e=0,$(".single.loss .num").text(e),console.log("est. loss length = 0")):($(".table li:not(.hidden) .loss").each(function(){var t=$(this).text();t=t.replace(/[^0-9]/g,""),e+=parseInt(t)}),$(".single.loss .num").text("$"+addCommas(e)))},updateDeliveredClicks=function(){var e=0,t=$(".table li:not(.hidden) .delivered.clicks").length;0===t?(e=0,$(".delivered .clicks .num").text(e)):($(".table li:not(.hidden) .delivered.clicks").each(function(){var t=$(this).text();t=t.replace(/,/g,""),e+=parseInt(t)}),$(".delivered .clicks .num").text(addCommas(e)))},updateDeliveredImps=function(){var e=0,t=$(".table li:not(.hidden) .delivered.imps").length;0===t?(e=0,$(".delivered .imps .num").text(e)):($(".table li:not(.hidden) .delivered.imps").each(function(){var t=$(this).text();t=t.replace(/,/g,""),e+=parseInt(t)}),$(".delivered .imps .num").text(addCommas(e)))};