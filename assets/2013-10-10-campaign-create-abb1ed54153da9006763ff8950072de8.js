function randomString(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",a=10,t="",n=0;a>n;n++){var o=Math.floor(Math.random()*e.length);t+=e.substring(o,o+1)}}$(function(){$(".new-campaign-button").on("click",function(){return $(".overlay").show(),$(this).addClass("s-is-hidden"),!1}),$(".new-campaign-button").on("click",function(){$(".header").toggleClass("header--new-campaign-bg")}),$(".overlay__close, #cancel-campaign, #create-campaign").on("click",function(){return $(".overlay").hide(),$(".header").toggleClass("header--new-campaign-bg"),$(".new-campaign-button").removeClass("s-is-hidden"),!1}),$(".overlay__nav li").click(function(){var e=$(this).attr("data-tab");return $(this).siblings().removeClass("s-is-current"),$(this).addClass("s-is-current"),$(".tab").removeClass("is-visible"),$(e).addClass("is-visible"),!1}),$(".next").click(function(){var e=$(this).parents(".tab").next(".tab").attr("id"),a="#"+e;return $(".overlay__nav li").removeClass("s-is-current"),$('.overlay__nav li[data-tab="'+a+'"]').addClass("s-is-current"),$(".tab").removeClass("is-visible"),$(a).addClass("is-visible"),!1}),$(".create").click(function(){return""===$("input.required").val()?(console.log("you did not fill out all fields"),$(".required").addClass("error")):($(".required").addClass("error"),$(".overlay").hide()),!1}),$(".back").click(function(){var e=$(this).parents(".tab").prev(".tab").attr("id"),a="#"+e;return $(".overlay__nav li").removeClass("s-is-current"),$('.overlay__nav li[data-tab="'+a+'"]').addClass("s-is-current"),$(".tab").removeClass("is-visible"),$(a).addClass("is-visible"),!1}),$(".help-trigger").click(function(){var e=$(this).offset(),a=e.top-65;return $(".help-tooltip").removeClass("s-is-hidden").css("top",a),$("#datepicker-overlay").addClass("open"),!1}),$(".help-tooltip > .close").click(function(){return $(".help-tooltip").addClass("s-is-hidden"),!1}),$(".flight-dates").on("click",".i-calendar",function(){var e=$(this),a=$(this).parents("li").offset(),t=a.top-65,n=$(this).attr("data-type");$(".i-calendar").not($(this)).removeClass("toggled"),$(this).toggleClass("toggled"),$("#datepicker").removeClass().css("top",t),e.hasClass("toggled")?($("#datepicker").addClass(n),$("#datepicker-overlay").addClass("open"),e.addClass("i-calendar--clicked")):($("#datepicker, #datepicker-overlay").removeClass(),$(".i-calendar").removeClass("i-calendar--clicked"))}),$("#datepicker").click(function(){$(this).hasClass("start")?$("input.start").val("10/15/13").focus():$("input.end").val("12/22/13").focus(),$(".i-calendar").removeClass("i-calendar--clicked toggled"),$(this).removeClass()}),$("#datepicker-overlay").click(function(){$("#datepicker").removeClass(),$(".help-tooltip").addClass("s-is-hidden"),$(".i-calendar").removeClass("i-calendar--clicked toggled"),$(this).removeClass()}),$(window).resize(function(){var e=$(".help-trigger").offset();$(".help-tooltip").css({top:e.top-65});var a=$(".flight-date").offset();$("#datepicker").css({top:a.top-65});var t=$("input.team").offset();$(".ui-autocomplete.team").css({top:t.top+30,left:t.left});var n=$("input.client").offset();$(".ui-autocomplete.client").css({top:n.top+30,left:n.left});var n=$("input.geo").offset();$(".ui-autocomplete.geo").css({top:n.top+30,left:n.left});var n=$("input.category").offset();$(".ui-autocomplete.category").css({top:n.top+30,left:n.left});var n=$("input.platform").offset();$(".ui-autocomplete.platform").css({top:n.top+30,left:n.left});var n=$("input.type").offset();$(".ui-autocomplete.type").css({top:n.top+30,left:n.left});var n=$("input.size").offset();$(".ui-autocomplete.size").css({top:n.top+30,left:n.left});var n=$("input.positioning").offset();$(".ui-autocomplete.positioning").css({top:n.top+30,left:n.left})}),$("ul.flight-date").on("click","li a",function(){return $(this).closest("li").remove(),!1}),$("#add-flight-date").click(function(){return $("ul.flight-date").append('\n        <li>\n          <div class="date-range">\n            <span tabindex="0" data-type="start" class="i-calendar font-icon">calendar</span>\n            <input class="form__input form__datepicker" placeholder="Start" id="js-input" type="text" />\n          </div>\n          <span class="range">&ndash;</span>\n          <div class="date-range">\n            <span tabindex="0" data-type="end" class="i-calendar font-icon">calendar</span>\n            <input class="form__input form__datepicker" placeholder="End" id="js-input" type="text" />\n          </div>\n          <a href="#" class="close font-icon">close</a>\n        </li>'),!1}),$(".tag-group").on("click",".tag > .close",function(){var e=$(this).parent(),a=$(this).parents(".tag-group"),t=$(this).parents("div").prev().children("input");return a.children().length<=1?(a.removeClass("open"),t.removeClass("is-adjacent"),t.autocomplete("option",{minLength:1}),t.focus(),t.autocomplete("option",{minLength:0}),e.remove(),t.addClass("psuedo-focus")):(t.autocomplete("option",{minLength:1}),t.focus(),t.autocomplete("option",{minLength:0}),e.remove()),!1});var e={team:[{value:"Andrew Graf",name:"Andrew Graf"},{value:"Billy Whited",name:"Billy Whited"},{value:"Corey Burrows",name:"Corey Burrows"},{value:"Dave Castleton",name:"Dave Castleton"},{value:"Lauren Furey",name:"Laren Furey"},{value:"Liz Roller",name:"Liz Roller"},{value:"Matt Nolker",name:"Matt Nolker"},{value:"Nick Nieman",name:"Nick Nieman"},{value:"Tiffany Wood",name:"Tiffany Wood"}],client:[{value:"Amtrak",name:"Amtrak"},{value:"Hyundai",name:"Hyundai"},{value:"Oklahoma City CVB",name:"Oklahoma City CVB"},{value:"CitraNatal Vitamins",name:"CitraNatal Vitamins"},{value:"McDonalds",name:"McDonald's"},{value:"Veggie Tales",name:"Veggie Tales"},{value:"Oakland Nursery",name:"Oakland Nursery"},{value:"Charter Communications",name:"Charter Communications"},{value:"Wisconsin Lottery",name:"Wisconsin Lottery"}],geo:[{value:"National",name:"National"},{value:"New York - Northern New Jersey-Long Island, NY-NJ-PA",name:"New York - Northern New Jersey-Long Island, NY-NJ-PA"},{value:"Los Angeles-Long Beach-Santa Ana, CA",name:"Los Angeles-Long Beach-Santa Ana, CA"},{value:"Chicago-Naperville-Joliet, IL-IN-WI",name:"Chicago-Naperville-Joliet, IL-IN-WI"},{value:"Philadelphia-Camden-Wilmington, PA-NJ-DE-MD",name:"Philadelphia-Camden-Wilmington, PA-NJ-DE-MD"},{value:"Dallas-Fort Worth-Arlington, TX",name:"Dallas-Fort Worth-Arlington, TX"},{value:"Miami-Fort Lauderdale-Miami Beach, FL",name:"Miami-Fort Lauderdale-Miami Beach, FL"},{value:"Houston-Sugar Land Baytown, TX",name:"Houston-Sugar Land Baytown, TX"},{value:"Washington-Arlington-Alexandria, DC-VA-MD-WV",name:"Washington-Arlington-Alexandria, DC-VA-MD-WV"}],category:[{value:"Automotive",name:"Automotive"},{value:"Baseball",name:"Baseball"},{value:"B2B",name:"B2B"},{value:"Blogs",name:"Blogs"},{value:"Celebrity Gossip",name:"Celebrity Gossip"},{value:"Entertainment",name:"Entertainment"},{value:"News and Entertainment",name:"News and Entertainment"},{value:"Home Entertainment",name:"Home Entertainment"},{value:"Sports",name:"Sports"},{value:"Shopping",name:"Shopping"}],platform:[{value:"Desktop",name:"Desktop"},{value:"Mobile",name:"Mobile"},{value:"Tablet",name:"Tablet"}],type:[{value:"Display",name:"Display"},{value:"Video",name:"Video"},{value:"Game",name:"Game"}],size:[{value:"Banner",name:"Banner"},{value:"160x600",name:"160x600"},{value:"728x90",name:"728x90"},{value:"300x250",name:"300x250"},{value:"250x250",name:"250x250"},{value:"Sliding Billboard",name:"Sliding Billboard"},{value:"Global Take Over",name:"Global Take Over"}],positioning:[{value:"Homepage",name:"Homepage"},{value:"Sports",name:"Sports"},{value:"Above the fold",name:"Above the fold"},{value:"Shopping",name:"Shopping"}]},a=$(".auto-search.collection").autocomplete({minLength:0,open:function(){$(this).data("ui-autocomplete").menu.element.addClass($(this).attr("data-context"))},close:function(){$(this).data("ui-autocomplete").menu.element.removeClass($(this).attr("data-context"))},select:function(e,a){return $(this).parent().next(".tag-group").addClass("open").append('<div class="tag"><span class="tag-value">'+a.item.name+"</span>"+'<a href="#" class="l-right close font-icon">close</a></div>'),$(this).addClass("is-adjacent").val(""),!1},source:function(a,t){var n=this.element.attr("data-context"),o=new RegExp($.ui.autocomplete.escapeRegex(a.term),"i"),s=$.grep(e[n],function(e){var a=e.name;return o.test(a)});t(s)}}).on("focus",function(){$(this).parent().next(".tag-group").addClass("focus"),$(this).autocomplete("search",this.value),$(".m-form__dropdown").removeClass("s-is-open").blur()});a.data("ui-autocomplete")._renderItem=function(e,a){var t=this.element.val(),n=a.name.replace(new RegExp(t,"i"),"<b>$&</b>");return $("<li>").append($("<a></a>").html("<p class='name'>"+n+"</p>")).appendTo(e)};var t=$(".auto-search.unique").autocomplete({minLength:0,open:function(){$(this).data("ui-autocomplete").menu.element.addClass($(this).attr("data-context")),$(this).removeClass("psuedo-focus")},close:function(){$(this).data("ui-autocomplete").menu.element.removeClass($(this).attr("data-context"))},select:function(e,a){var t=a.item.value,n=t.slice(0,7).replace(/\s+/g,"").toUpperCase();if($(this).addClass("psuedo-focus"),$(this).hasClass("client")){for(var o="0123456789",s=3,l="",i=0;s>i;i++){var r=Math.floor(Math.random()*o.length);l+=o.substring(r,r+1)}$("#unique-id").val(n+l.toUpperCase())}},source:function(a,t){var n=this.element.attr("data-context"),o=new RegExp($.ui.autocomplete.escapeRegex(a.term),"i"),s=$.grep(e[n],function(e){var a=e.name;return o.test(a)});t(s)}}).on("focus",function(){$(this).removeClass("psuedo-focus"),$(this).autocomplete("search",this.value),$(".m-form__dropdown").removeClass("s-is-open").blur()});t.data("ui-autocomplete")._renderItem=function(e,a){var t=this.element.val(),n=a.name.replace(new RegExp(t,"i"),"<b>$&</b>");return $("<li>").append($("<a></a>").html("<p class='name'>"+n+"</p>")).appendTo(e)},$(".auto-search").on("click",function(){target=$(this),target.is(":focus")&&(target.autocomplete("search",this.value),$(this).removeClass("psuedo-focus"))}),$(".auto-search.collection").on("blur",function(){$(".tag-group").removeClass("focus")}),$(".auto-search.client").on("blur",function(){var e=$(this).val();""===e&&$("#unique-id").val("")}),$('[class*="m-form__dropdown"]').each(function(){$(this).find("li:first a").addClass("s-is-active")}),$(".m-form__dropdown__overlay").click(function(){return $(".m-form__dropdown").removeClass("s-is-open").blur(),!1}),$(".m-form__dropdown").focus(function(){return $(".m-form__dropdown").not($(this)).removeClass("s-is-open"),$(this).addClass("s-is-open"),!1}),$('[class*="m-form__dropdown"] li a').click(function(){var e=$(this),a=$(this).text();return $(this).parents('[class*="m-form__dropdown"]').find("a").removeClass(),$(this).addClass("s-is-active"),setTimeout(function(){e.parents('[class*="m-form__dropdown"]').find("span").text(a).removeClass("placeholder"),e.parents(".m-form__dropdown").removeClass("s-is-open")},50),!1})});